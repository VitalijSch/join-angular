<div class="drag-and-drop-container">
    @if(firebaseDatabaseService.taskList) {
    <div>
        <div class="drag-and-drop-header">
            To do
            <svg (click)="showAddTaskWithRightStatus('To do')" width="24" height="25" viewBox="0 0 24 25" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <rect x="1" y="1.5" width="22" height="22" rx="7" stroke="#2A3647" stroke-width="2" />
                <path d="M12 8.5V16.5" stroke="#2A3647" stroke-width="2" stroke-linecap="round" />
                <path d="M16 12.5754L8 12.5754" stroke="#2A3647" stroke-width="2" stroke-linecap="round" />
            </svg>
        </div>
        <div id="toDoList" (cdkDropListDropped)="onDrop($event)" cdkDropList
            [cdkDropListConnectedTo]="['inProgressList', 'awaitFeedbackList', 'doneList']" class="category-container">
            @if(firebaseDatabaseService.taskList.toDo.length === 0) {
            <div class="no-tasks-feedback-container">
                No tasks to do
            </div>
            } @else {
            @for (task of firebaseDatabaseService.taskList.toDo; track $index) {
            <app-task cdkDrag [cdkDragData]="task" [task]="task"></app-task>
            }
            }
        </div>
    </div>
    <div>
        <div class="drag-and-drop-header">
            In progress
            <svg (click)="showAddTaskWithRightStatus('In progress')" width="24" height="25" viewBox="0 0 24 25"
                fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="1" y="1.5" width="22" height="22" rx="7" stroke="#2A3647" stroke-width="2" />
                <path d="M12 8.5V16.5" stroke="#2A3647" stroke-width="2" stroke-linecap="round" />
                <path d="M16 12.5754L8 12.5754" stroke="#2A3647" stroke-width="2" stroke-linecap="round" />
            </svg>
        </div>
        <div id="inProgressList" (cdkDropListDropped)="onDrop($event)" cdkDropList
            [cdkDropListConnectedTo]="['toDoList', 'awaitFeedbackList', 'doneList']" class="category-container">
            @if(firebaseDatabaseService.taskList.inProgress.length === 0) {
            <div class="no-tasks-feedback-container">
                No tasks to do
            </div>
            } @else {
            @for (task of firebaseDatabaseService.taskList.inProgress; track $index) {
            <app-task cdkDrag [cdkDragData]="task" [task]="task"></app-task>
            }
            }
        </div>
    </div>
    <div>
        <div class="drag-and-drop-header">
            Await feedback
            <svg (click)="showAddTaskWithRightStatus('Await feedback')" width="24" height="25" viewBox="0 0 24 25"
                fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="1" y="1.5" width="22" height="22" rx="7" stroke="#2A3647" stroke-width="2" />
                <path d="M12 8.5V16.5" stroke="#2A3647" stroke-width="2" stroke-linecap="round" />
                <path d="M16 12.5754L8 12.5754" stroke="#2A3647" stroke-width="2" stroke-linecap="round" />
            </svg>
        </div>
        <div id="awaitFeedbackList" (cdkDropListDropped)="onDrop($event)" cdkDropList
            [cdkDropListConnectedTo]="['toDoList', 'inProgressList', 'doneList']" class="category-container">
            @if(firebaseDatabaseService.taskList.awaitFeedback.length === 0) {
            <div class="no-tasks-feedback-container">
                No tasks to do
            </div>
            } @else {
            @for (task of firebaseDatabaseService.taskList.awaitFeedback; track $index) {
            <app-task cdkDrag [cdkDragData]="task" [task]="task"></app-task>
            }
            }
        </div>
    </div>
    <div>
        <div class="drag-and-drop-header">Done</div>
        <div id="doneList" (cdkDropListDropped)="onDrop($event)" cdkDropList
            [cdkDropListConnectedTo]="['toDoList', 'inProgressList', 'awaitFeedbackList']" class="category-container">
            @if(firebaseDatabaseService.taskList.done.length === 0) {
            <div class="no-tasks-feedback-container">
                No tasks to do
            </div>
            } @else {
            @for (task of firebaseDatabaseService.taskList.done; track $index) {
            <app-task cdkDrag [cdkDragData]="task" [task]="task"></app-task>
            }
            }
        </div>
    </div>
    }
</div>